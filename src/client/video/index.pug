include ../common/common.pug

+Page("Cabinet Videos", "video")
  #cover
    button#button-cover-close Close

  #player
    video#video(autoplay)

    #overlay
      #title
        #title-name
        #title-error
      #targets.ripple-target
        .target.ripple-target
        .target.ripple-target
      #player-controls
        button#button-playback
        input#progress(type="range" value=0 min=0 step=0.1)
        button#button-fullscreen

  #pane
    #pane-toolbar
      input#search(
        placeholder="Search..."
      )
      button#button-settings ⚙
    ul#list
      each video in videos
        li.entry(data-id=video.id, data-favourite=video.favourite)
          button.entry-fav ★
          // It's too much hassle to use an <a> as we have to then prevent
          // all the default UA behaviour, some of which are not preventable
          // on old browsers. For example, Edge has no way of hiding the
          // distracting URL popup when focus is left on the link after
          // touching, even when blurred afterwards.
          button.entry-link(data-url=`/stream/${video.id}`)= video.title
    #pane-controls
      button#button-previous(title="Previous") ⏮
      button#button-stop(title="Stop") ⏹
      button#button-next(title="Next") ⏭
